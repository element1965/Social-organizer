const fs = require('fs');
const path = require('path');

const localesDir = path.join(__dirname, '..', 'packages', 'i18n', 'locales');

const EN_SKILLS = {
  "title": "Skills & Needs",
  "popupTitle": "What can you help with?",
  "popupText": "Go through the list and mark what you can do and what you need. This helps your network find the right people faster.",
  "searchPlaceholder": "Search skills...",
  "canHelp": "I can help",
  "needHelp": "I need help",
  "iCan": "Can",
  "iNeed": "Need",
  "online": "Available online",
  "minHint": "Minimum: {{skills}} skills + {{needs}} needs",
  // Groups
  "group_home": "Home & Household",
  "group_construction": "Construction & Renovation",
  "group_professional": "Business & Finance",
  "group_legal": "Legal",
  "group_creative": "Creative",
  "group_health": "Health & Wellness",
  "group_beauty": "Beauty & Care",
  "group_transport": "Transport & Logistics",
  "group_auto": "Auto & Vehicles",
  "group_digital": "IT & Digital",
  "group_education": "Education & Tutoring",
  "group_events": "Events & Entertainment",
  "group_pets": "Pets & Animals",
  "group_outdoor": "Outdoor & Sports",
  "group_agriculture": "Agriculture",
  // Home
  "plumbing": "Plumbing",
  "electrical": "Electrical",
  "carpentry": "Carpentry",
  "painting": "Painting & Decorating",
  "cleaning": "Cleaning",
  "gardening": "Gardening",
  "cooking": "Cooking",
  "childcare": "Childcare",
  "petSitting": "Pet Sitting",
  "applianceRepair": "Appliance Repair",
  "sewing": "Sewing & Alterations",
  "laundry": "Laundry & Ironing",
  "homeOrganizing": "Home Organizing",
  "insulation": "Insulation",
  "furnitureAssembly": "Furniture Assembly",
  // Construction
  "masonry": "Masonry",
  "plastering": "Plastering",
  "tiling": "Tiling",
  "roofing": "Roofing",
  "foundation": "Foundation Work",
  "welding": "Welding",
  "glazing": "Glazing & Windows",
  "flooring": "Flooring",
  "drywall": "Drywall",
  "demolition": "Demolition",
  "architecturalDesign": "Architectural Design",
  "costEstimation": "Cost Estimation",
  "interiorDesign": "Interior Design",
  "landscapeDesign": "Landscape Design",
  // Professional
  "accounting": "Accounting",
  "taxPlanning": "Tax Planning",
  "bookkeeping": "Bookkeeping",
  "audit": "Audit",
  "businessConsulting": "Business Consulting",
  "hrRecruiting": "HR & Recruiting",
  "insurance": "Insurance",
  "investmentAdvice": "Investment Advice",
  "notaryServices": "Notary Services",
  "immigration": "Immigration Services",
  "licensing": "Licensing",
  "tenderSupport": "Tender Support",
  "marketing": "Marketing",
  "projectManagement": "Project Management",
  "salesSupport": "Sales Support",
  // Legal
  "legal": "Legal Advice",
  "civilLaw": "Civil Law",
  "familyLaw": "Family Law",
  "laborLaw": "Labor Law",
  "realEstateLaw": "Real Estate Law",
  "inheritanceLaw": "Inheritance Law",
  "trafficAccidentLaw": "Traffic Accident Law",
  "consumerProtection": "Consumer Protection",
  "mediation": "Mediation",
  "criminalLaw": "Criminal Law",
  // Creative
  "design": "Graphic Design",
  "photography": "Photography",
  "videoProduction": "Video Production",
  "videoEditing": "Video Editing",
  "animation": "Animation",
  "illustration": "Illustration",
  "musicProduction": "Music Production",
  "soundDesign": "Sound Design",
  "writing": "Writing & Copywriting",
  "editing": "Text Editing",
  "translation": "Translation",
  "webDesign": "Web Design",
  "uiUxDesign": "UI/UX Design",
  "modeling3d": "3D Modeling",
  "calligraphy": "Calligraphy",
  "drawing": "Drawing & Painting",
  "voiceActing": "Voice Acting",
  "podcasting": "Podcasting",
  // Health
  "firstAid": "First Aid",
  "nursing": "Nursing",
  "psychology": "Psychology",
  "nutrition": "Nutrition",
  "fitness": "Fitness",
  "massage": "Massage",
  "yoga": "Yoga",
  "rehabilitation": "Rehabilitation",
  "dentistry": "Dentistry",
  "ophthalmology": "Ophthalmology",
  "dermatology": "Dermatology",
  "speechTherapy": "Speech Therapy",
  "osteopathy": "Osteopathy",
  "aromatherapy": "Aromatherapy",
  "elderlyCare": "Elderly Care",
  "physiotherapy": "Physiotherapy",
  "mentalHealthSupport": "Mental Health Support",
  "homeopathy": "Homeopathy",
  // Beauty
  "hairdressing": "Hairdressing",
  "manicurePedicure": "Manicure & Pedicure",
  "makeupArtistry": "Makeup",
  "cosmetology": "Cosmetology",
  "lashExtensions": "Lash Extensions",
  "personalStylist": "Personal Stylist",
  "barber": "Barber",
  "hairRemoval": "Hair Removal",
  "facialMassage": "Facial Massage",
  "tattoo": "Tattoo",
  // Transport
  "driving": "Driving",
  "moving": "Moving & Hauling",
  "delivery": "Delivery",
  "towTruck": "Tow Truck",
  "freightTransport": "Freight Transport",
  "courierService": "Courier Service",
  "airTickets": "Air Tickets",
  "airportTransfer": "Airport Transfer",
  "carRental": "Car Rental",
  "carpooling": "Carpooling",
  "boatTransport": "Boat Transport",
  "logisticsPlanning": "Logistics Planning",
  // Auto
  "autoMechanic": "Auto Mechanic",
  "bodyRepair": "Body Repair",
  "tireService": "Tire Service",
  "autoElectrics": "Auto Electrics",
  "carDiagnostics": "Car Diagnostics",
  "carTuning": "Car Tuning",
  "carWash": "Car Wash",
  "carPolishing": "Car Polishing",
  "motorcycleRepair": "Motorcycle Repair",
  "bicycleRepair": "Bicycle Repair",
  "boatRepair": "Boat Repair",
  "carInspection": "Car Inspection",
  // Digital
  "webDev": "Web Development",
  "mobileDev": "Mobile Development",
  "sysAdmin": "System Administration",
  "dataRecovery": "Data Recovery",
  "socialMedia": "Social Media (SMM)",
  "seo": "SEO",
  "computerSetup": "Computer Setup",
  "networkSetup": "Network Setup",
  "cybersecurity": "Cybersecurity",
  "cloudServices": "Cloud Services",
  "databases": "Databases",
  "devops": "DevOps",
  "aiMl": "AI & Machine Learning",
  "dataAnalytics": "Data Analytics",
  "techSupport": "Tech Support",
  "iot": "IoT",
  "blockchain": "Blockchain",
  "qaTestin": "QA Testing",
  "gameDev": "Game Development",
  "automation": "Automation",
  "erp": "ERP Systems",
  "techWriting": "Technical Writing",
  // Education
  "mathTutoring": "Math Tutoring",
  "languageTutoring": "Language Tutoring",
  "physicsTutoring": "Physics Tutoring",
  "chemistryTutoring": "Chemistry Tutoring",
  "musicLessons": "Music Lessons",
  "examPrep": "Exam Preparation",
  "preschoolEducation": "Preschool Education",
  "speedReading": "Speed Reading",
  "publicSpeaking": "Public Speaking",
  "mentoring": "Mentoring",
  "coaching": "Coaching",
  "codingForBeginners": "Coding for Beginners",
  "chess": "Chess",
  "robotics": "Robotics",
  "artClasses": "Art Classes",
  "drivingLessons": "Driving Lessons",
  // Events
  "eventOrganizing": "Event Organizing",
  "weddingPlanning": "Wedding Planning",
  "djServices": "DJ Services",
  "soundOperator": "Sound Operator",
  "eventDecor": "Event Decor",
  "floristry": "Floristry",
  "catering": "Catering",
  "equipmentRental": "Equipment Rental",
  "fundraising": "Fundraising",
  "volunteering": "Volunteering",
  "hostingMC": "Hosting & MC",
  "partyPlanning": "Party Planning",
  // Pets
  "veterinary": "Veterinary",
  "petGrooming": "Pet Grooming",
  "dogTraining": "Dog Training",
  "petBoarding": "Pet Boarding",
  "dogWalking": "Dog Walking",
  "animalPsychology": "Animal Psychology",
  "aquaristics": "Aquaristics",
  "cynology": "Cynology",
  "birdKeeping": "Bird Keeping",
  "exoticPets": "Exotic Pets",
  // Outdoor
  "hiking": "Hiking & Trekking",
  "fishing": "Fishing",
  "hunting": "Hunting",
  "surfing": "Surfing",
  "skiing": "Skiing & Snowboarding",
  "scubaDiving": "Scuba Diving",
  "rockClimbing": "Rock Climbing",
  "sailing": "Sailing",
  "cycling": "Cycling",
  "martialArts": "Martial Arts",
  "camping": "Camping",
  "horseRiding": "Horse Riding",
  // Agriculture
  "agronomy": "Agronomy",
  "animalHusbandry": "Animal Husbandry",
  "beekeeping": "Beekeeping",
  "winemaking": "Winemaking",
  "greenhouse": "Greenhouse",
  "irrigation": "Irrigation",
  "organicFarming": "Organic Farming",
  "soilAnalysis": "Soil Analysis",
  "pestControl": "Pest Control",
  "mushrooming": "Mushrooming",
  // Meta
  "selected": "Skills: {{count}}",
  "selectedNeeds": "Needs: {{count}}",
  "skip": "Skip for now",
  "fillRate": "Fill rate",
  "matchDensity": "Matches",
  "topSkills": "Top skills",
  "topNeeds": "Top needs",
  "friendsCanHelp": "{{count}} friends can help with {{skill}}",
  "adminTitle": "Skills & Needs — Pilot Metrics",
  "withSkills": "with skills",
  "withNeeds": "with needs",
  "tabSkills": "I can help",
  "tabNeeds": "I need help"
};

const RU_SKILLS = {
  "title": "Навыки и потребности",
  "popupTitle": "Чем вы можете помочь?",
  "popupText": "Пройдите по списку и отметьте, что вы умеете и что вам нужно. Это поможет вашей сети быстрее находить нужных людей.",
  "searchPlaceholder": "Поиск навыков...",
  "canHelp": "Могу помочь",
  "needHelp": "Нужна помощь",
  "iCan": "Могу",
  "iNeed": "Нужно",
  "online": "Доступно онлайн",
  "minHint": "Минимум: {{skills}} навыков + {{needs}} потребностей",
  // Groups
  "group_home": "Дом и быт",
  "group_construction": "Строительство и ремонт",
  "group_professional": "Бизнес и финансы",
  "group_legal": "Юриспруденция",
  "group_creative": "Творчество",
  "group_health": "Здоровье",
  "group_beauty": "Красота и уход",
  "group_transport": "Транспорт и логистика",
  "group_auto": "Авто и техника",
  "group_digital": "IT и цифра",
  "group_education": "Образование и обучение",
  "group_events": "Мероприятия и развлечения",
  "group_pets": "Домашние животные",
  "group_outdoor": "Активности и спорт",
  "group_agriculture": "Сельское хозяйство",
  // Home
  "plumbing": "Сантехника",
  "electrical": "Электрика",
  "carpentry": "Столярные работы",
  "painting": "Покраска и отделка",
  "cleaning": "Уборка",
  "gardening": "Садоводство",
  "cooking": "Готовка",
  "childcare": "Присмотр за детьми",
  "petSitting": "Присмотр за животными",
  "applianceRepair": "Ремонт бытовой техники",
  "sewing": "Швейное дело",
  "laundry": "Стирка и глажка",
  "homeOrganizing": "Организация пространства",
  "insulation": "Утепление и изоляция",
  "furnitureAssembly": "Сборка мебели",
  // Construction
  "masonry": "Кладка",
  "plastering": "Штукатурка",
  "tiling": "Плиточные работы",
  "roofing": "Кровля",
  "foundation": "Фундамент",
  "welding": "Сварка",
  "glazing": "Остекление",
  "flooring": "Укладка полов",
  "drywall": "Гипсокартон",
  "demolition": "Демонтаж",
  "architecturalDesign": "Архитектурное проектирование",
  "costEstimation": "Сметы",
  "interiorDesign": "Дизайн интерьера",
  "landscapeDesign": "Ландшафтный дизайн",
  // Professional
  "accounting": "Бухгалтерия",
  "taxPlanning": "Налоговое планирование",
  "bookkeeping": "Бухучёт",
  "audit": "Аудит",
  "businessConsulting": "Бизнес-консультация",
  "hrRecruiting": "HR и рекрутинг",
  "insurance": "Страхование",
  "investmentAdvice": "Инвестиции",
  "notaryServices": "Нотариат",
  "immigration": "Миграционные услуги",
  "licensing": "Лицензирование",
  "tenderSupport": "Тендерная поддержка",
  "marketing": "Маркетинг",
  "projectManagement": "Управление проектами",
  "salesSupport": "Поддержка продаж",
  // Legal
  "legal": "Юридическая помощь",
  "civilLaw": "Гражданское право",
  "familyLaw": "Семейное право",
  "laborLaw": "Трудовое право",
  "realEstateLaw": "Недвижимость",
  "inheritanceLaw": "Наследство",
  "trafficAccidentLaw": "ДТП",
  "consumerProtection": "Защита прав потребителя",
  "mediation": "Медиация",
  "criminalLaw": "Уголовное право",
  // Creative
  "design": "Графический дизайн",
  "photography": "Фотография",
  "videoProduction": "Видеосъёмка",
  "videoEditing": "Видеомонтаж",
  "animation": "Анимация",
  "illustration": "Иллюстрация",
  "musicProduction": "Музыка и продакшн",
  "soundDesign": "Саунд-дизайн",
  "writing": "Текст и копирайтинг",
  "editing": "Редактура текстов",
  "translation": "Перевод",
  "webDesign": "Веб-дизайн",
  "uiUxDesign": "UI/UX дизайн",
  "modeling3d": "3D моделирование",
  "calligraphy": "Каллиграфия",
  "drawing": "Рисование",
  "voiceActing": "Озвучка",
  "podcasting": "Подкастинг",
  // Health
  "firstAid": "Первая помощь",
  "nursing": "Медицинский уход",
  "psychology": "Психология",
  "nutrition": "Диетология",
  "fitness": "Фитнес",
  "massage": "Массаж",
  "yoga": "Йога",
  "rehabilitation": "Реабилитация",
  "dentistry": "Стоматология",
  "ophthalmology": "Офтальмология",
  "dermatology": "Дерматология",
  "speechTherapy": "Логопедия",
  "osteopathy": "Остеопатия",
  "aromatherapy": "Ароматерапия",
  "elderlyCare": "Уход за пожилыми",
  "physiotherapy": "Физиотерапия",
  "mentalHealthSupport": "Психологическая помощь",
  "homeopathy": "Гомеопатия",
  // Beauty
  "hairdressing": "Парикмахерские услуги",
  "manicurePedicure": "Маникюр и педикюр",
  "makeupArtistry": "Макияж",
  "cosmetology": "Косметология",
  "lashExtensions": "Наращивание ресниц",
  "personalStylist": "Стилист",
  "barber": "Барбер",
  "hairRemoval": "Эпиляция",
  "facialMassage": "Массаж лица",
  "tattoo": "Тату",
  // Transport
  "driving": "Вождение",
  "moving": "Переезд и перевозка",
  "delivery": "Доставка",
  "towTruck": "Эвакуатор",
  "freightTransport": "Грузоперевозка",
  "courierService": "Курьерская доставка",
  "airTickets": "Авиабилеты",
  "airportTransfer": "Трансфер",
  "carRental": "Аренда авто",
  "carpooling": "Попутчик",
  "boatTransport": "Водный транспорт",
  "logisticsPlanning": "Планирование логистики",
  // Auto
  "autoMechanic": "Автомеханика",
  "bodyRepair": "Кузовной ремонт",
  "tireService": "Шиномонтаж",
  "autoElectrics": "Автоэлектрика",
  "carDiagnostics": "Диагностика",
  "carTuning": "Тюнинг",
  "carWash": "Мойка",
  "carPolishing": "Полировка",
  "motorcycleRepair": "Ремонт мотоциклов",
  "bicycleRepair": "Ремонт велосипедов",
  "boatRepair": "Ремонт лодок",
  "carInspection": "Техосмотр",
  // Digital
  "webDev": "Веб-разработка",
  "mobileDev": "Мобильная разработка",
  "sysAdmin": "Системное администрирование",
  "dataRecovery": "Восстановление данных",
  "socialMedia": "Соцсети (SMM)",
  "seo": "SEO",
  "computerSetup": "Настройка компьютера",
  "networkSetup": "Настройка сети",
  "cybersecurity": "Кибербезопасность",
  "cloudServices": "Облачные сервисы",
  "databases": "Базы данных",
  "devops": "DevOps",
  "aiMl": "AI и машинное обучение",
  "dataAnalytics": "Аналитика данных",
  "techSupport": "Техподдержка",
  "iot": "IoT",
  "blockchain": "Блокчейн",
  "qaTestin": "QA тестирование",
  "gameDev": "Разработка игр",
  "automation": "Автоматизация",
  "erp": "ERP системы",
  "techWriting": "Техническое написание",
  // Education
  "mathTutoring": "Математика",
  "languageTutoring": "Языки",
  "physicsTutoring": "Физика",
  "chemistryTutoring": "Химия",
  "musicLessons": "Музыка",
  "examPrep": "Подготовка к экзаменам",
  "preschoolEducation": "Дошкольное образование",
  "speedReading": "Скорочтение",
  "publicSpeaking": "Публичные выступления",
  "mentoring": "Менторство",
  "coaching": "Коучинг",
  "codingForBeginners": "Программирование для начинающих",
  "chess": "Шахматы",
  "robotics": "Робототехника",
  "artClasses": "Уроки рисования",
  "drivingLessons": "Уроки вождения",
  // Events
  "eventOrganizing": "Организация мероприятий",
  "weddingPlanning": "Организация свадеб",
  "djServices": "DJ",
  "soundOperator": "Звукооператор",
  "eventDecor": "Декор",
  "floristry": "Флористика",
  "catering": "Кейтеринг",
  "equipmentRental": "Аренда оборудования",
  "fundraising": "Фандрайзинг",
  "volunteering": "Волонтёрство",
  "hostingMC": "Ведение мероприятий",
  "partyPlanning": "Организация вечеринок",
  // Pets
  "veterinary": "Ветеринария",
  "petGrooming": "Груминг",
  "dogTraining": "Дрессировка собак",
  "petBoarding": "Передержка",
  "dogWalking": "Выгул собак",
  "animalPsychology": "Зоопсихология",
  "aquaristics": "Аквариумистика",
  "cynology": "Кинология",
  "birdKeeping": "Птицеводство",
  "exoticPets": "Экзотические животные",
  // Outdoor
  "hiking": "Туризм и походы",
  "fishing": "Рыбалка",
  "hunting": "Охота",
  "surfing": "Сёрфинг",
  "skiing": "Лыжи и сноуборд",
  "scubaDiving": "Дайвинг",
  "rockClimbing": "Скалолазание",
  "sailing": "Парусный спорт",
  "cycling": "Велоспорт",
  "martialArts": "Единоборства",
  "camping": "Кемпинг",
  "horseRiding": "Верховая езда",
  // Agriculture
  "agronomy": "Агрономия",
  "animalHusbandry": "Животноводство",
  "beekeeping": "Пчеловодство",
  "winemaking": "Виноделие",
  "greenhouse": "Теплицы",
  "irrigation": "Полив и ирригация",
  "organicFarming": "Органическое земледелие",
  "soilAnalysis": "Анализ почвы",
  "pestControl": "Борьба с вредителями",
  "mushrooming": "Грибоводство",
  // Meta
  "selected": "Навыки: {{count}}",
  "selectedNeeds": "Потребности: {{count}}",
  "skip": "Пропустить",
  "fillRate": "Заполняемость",
  "matchDensity": "Совпадения",
  "topSkills": "Топ навыки",
  "topNeeds": "Топ потребности",
  "friendsCanHelp": "{{count}} друзей могут помочь с «{{skill}}»",
  "adminTitle": "Навыки и потребности — метрики пилота",
  "withSkills": "с навыками",
  "withNeeds": "с потребностями",
  "tabSkills": "Могу помочь",
  "tabNeeds": "Нужна помощь"
};

// Update EN
const enPath = path.join(localesDir, 'en.json');
const en = JSON.parse(fs.readFileSync(enPath, 'utf8').replace(/^\uFEFF/, ''));
en.skills = EN_SKILLS;
fs.writeFileSync(enPath, JSON.stringify(en, null, 2) + '\n', 'utf8');
console.log('Updated en.json');

// Update RU
const ruPath = path.join(localesDir, 'ru.json');
const ru = JSON.parse(fs.readFileSync(ruPath, 'utf8').replace(/^\uFEFF/, ''));
ru.skills = RU_SKILLS;
fs.writeFileSync(ruPath, JSON.stringify(ru, null, 2) + '\n', 'utf8');
console.log('Updated ru.json');

// Copy EN skills to all other locales (as fallback)
const locales = fs.readdirSync(localesDir).filter(f => f.endsWith('.json') && f !== 'en.json' && f !== 'ru.json');
for (const file of locales) {
  const filePath = path.join(localesDir, file);
  try {
    const data = JSON.parse(fs.readFileSync(filePath, 'utf8').replace(/^\uFEFF/, ''));
    data.skills = EN_SKILLS;
    fs.writeFileSync(filePath, JSON.stringify(data, null, 2) + '\n', 'utf8');
    console.log(`Updated ${file}`);
  } catch (e) {
    console.error(`Failed ${file}:`, e.message);
  }
}

console.log('Done! All locales updated.');
